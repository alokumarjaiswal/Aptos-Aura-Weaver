(()=>{var e={1281:()=>{},5808:(e,t,a)=>{"use strict";var n=a(5043),o=a(4391),r=a(4256),s=a(2397),i=(a(305),a(579));const l=e=>{let{children:t}=e;const a="devnet",n={NODE_ENV:"production",PUBLIC_URL:"/Aptos-Aura-Weaver",WDS_SOCKET_HOST:void 0,WDS_SOCKET_PATH:void 0,WDS_SOCKET_PORT:void 0,FAST_REFRESH:!0,REACT_APP_APTOS_NETWORK:"devnet",REACT_APP_APTOS_NODE_URL:"https://fullnode.devnet.aptoslabs.com/v1",REACT_APP_BACKEND_URL_DEVELOPMENT:"http://localhost:3001",REACT_APP_BACKEND_URL_PRODUCTION:"https://aptos-aura-weaver.up.railway.app",REACT_APP_DEBUG_MODE:"false",REACT_APP_ENABLE_ANALYTICS:"false",REACT_APP_ENABLE_IPFS:"true",REACT_APP_ENABLE_MOCK_DATA:"false",REACT_APP_IPFS_GATEWAY:"https://gateway.pinata.cloud/ipfs/"}.REACT_APP_PINATA_API_KEY&&{NODE_ENV:"production",PUBLIC_URL:"/Aptos-Aura-Weaver",WDS_SOCKET_HOST:void 0,WDS_SOCKET_PATH:void 0,WDS_SOCKET_PORT:void 0,FAST_REFRESH:!0,REACT_APP_APTOS_NETWORK:"devnet",REACT_APP_APTOS_NODE_URL:"https://fullnode.devnet.aptoslabs.com/v1",REACT_APP_BACKEND_URL_DEVELOPMENT:"http://localhost:3001",REACT_APP_BACKEND_URL_PRODUCTION:"https://aptos-aura-weaver.up.railway.app",REACT_APP_DEBUG_MODE:"false",REACT_APP_ENABLE_ANALYTICS:"false",REACT_APP_ENABLE_IPFS:"true",REACT_APP_ENABLE_MOCK_DATA:"false",REACT_APP_IPFS_GATEWAY:"https://gateway.pinata.cloud/ipfs/"}.REACT_APP_PINATA_SECRET_KEY?{[a]:{pinata:{apiKey:{NODE_ENV:"production",PUBLIC_URL:"/Aptos-Aura-Weaver",WDS_SOCKET_HOST:void 0,WDS_SOCKET_PATH:void 0,WDS_SOCKET_PORT:void 0,FAST_REFRESH:!0,REACT_APP_APTOS_NETWORK:"devnet",REACT_APP_APTOS_NODE_URL:"https://fullnode.devnet.aptoslabs.com/v1",REACT_APP_BACKEND_URL_DEVELOPMENT:"http://localhost:3001",REACT_APP_BACKEND_URL_PRODUCTION:"https://aptos-aura-weaver.up.railway.app",REACT_APP_DEBUG_MODE:"false",REACT_APP_ENABLE_ANALYTICS:"false",REACT_APP_ENABLE_IPFS:"true",REACT_APP_ENABLE_MOCK_DATA:"false",REACT_APP_IPFS_GATEWAY:"https://gateway.pinata.cloud/ipfs/"}.REACT_APP_PINATA_API_KEY,secretKey:{NODE_ENV:"production",PUBLIC_URL:"/Aptos-Aura-Weaver",WDS_SOCKET_HOST:void 0,WDS_SOCKET_PATH:void 0,WDS_SOCKET_PORT:void 0,FAST_REFRESH:!0,REACT_APP_APTOS_NETWORK:"devnet",REACT_APP_APTOS_NODE_URL:"https://fullnode.devnet.aptoslabs.com/v1",REACT_APP_BACKEND_URL_DEVELOPMENT:"http://localhost:3001",REACT_APP_BACKEND_URL_PRODUCTION:"https://aptos-aura-weaver.up.railway.app",REACT_APP_DEBUG_MODE:"false",REACT_APP_ENABLE_ANALYTICS:"false",REACT_APP_ENABLE_IPFS:"true",REACT_APP_ENABLE_MOCK_DATA:"false",REACT_APP_IPFS_GATEWAY:"https://gateway.pinata.cloud/ipfs/"}.REACT_APP_PINATA_SECRET_KEY}}}:void 0;return(0,i.jsx)(s.nu,{autoConnect:!0,dappConfig:{network:a,aptosApiKeys:n},optInWallets:["Petra"],onError:e=>{console.error("Wallet adapter error:",e)},children:t})};var c=a(9379);const d=(0,n.createContext)(void 0),u={moodSeed:"",transactionCount:0,imageData:"",loading:!1,lastTransactionHash:void 0},p=e=>{let{children:t}=e;const[a,o]=(0,n.useState)(u),r={state:a,setMoodSeed:e=>{o(t=>(0,c.A)((0,c.A)({},t),{},{moodSeed:e,lastTransactionHash:void 0}))},setTransactionCount:e=>{o(t=>(0,c.A)((0,c.A)({},t),{},{transactionCount:e,lastTransactionHash:void 0}))},setImageData:e=>{o(t=>(0,c.A)((0,c.A)({},t),{},{imageData:e}))},setLoading:e=>{o(t=>(0,c.A)((0,c.A)({},t),{},{loading:e}))},setTransactionHash:e=>{o(t=>(0,c.A)((0,c.A)({},t),{},{lastTransactionHash:e}))},resetState:()=>{o(u)}};return(0,i.jsx)(d.Provider,{value:r,children:t})},m=()=>{const e=(0,n.useContext)(d);if(void 0===e)throw new Error("useAppContext must be used within an AppProvider");return e},h=e=>{let{showBackButton:t=!1,onBackClick:a}=e;return(0,i.jsx)("header",{className:"app-header",children:(0,i.jsxs)("div",{className:"header-content",children:[(0,i.jsxs)("div",{className:"header-text",children:[(0,i.jsx)("h1",{className:"app-title",children:"APTOS AURA WEAVER"}),(0,i.jsx)("p",{className:"app-subtitle",children:"Generate your personalized aura NFT based on your on-chain activity"})]}),(0,i.jsx)("div",{className:"header-actions",children:t&&(0,i.jsx)("button",{onClick:a,className:"btn btn-secondary back-button",title:"Go back",children:"\u2190 Back"})})]})})},v=a.p+"static/media/pxArt.a19411e7d4d8b47d58af.png";var g=a(6773);const A=()=>{const{connect:e}=(0,s.vT)();return(0,i.jsx)("div",{className:"app-container",children:(0,i.jsxs)("div",{className:"app-content",children:[(0,i.jsx)(h,{}),(0,i.jsx)("main",{className:"main-content",children:(0,i.jsxs)("div",{className:"landing-section",children:[(0,i.jsx)("div",{className:"pixel-art-container",children:(0,i.jsx)("img",{src:v,alt:"Pixel Art Character",className:"pixel-art-image",draggable:"false"})}),(0,i.jsx)("div",{className:"landing-content",children:(0,i.jsxs)("button",{onClick:async()=>{if(!(0,g.isPetraWalletInstalled)())return alert("Petra wallet not detected. Redirecting to installation page..."),void(0,g.redirectToPetraInstall)();try{await e("Petra")}catch(t){console.error("Wallet connection error:",t);const e=(null===t||void 0===t?void 0:t.message)||(null===t||void 0===t?void 0:t.toString())||"";e.includes("No provider")||e.includes("not found")?(alert("Petra wallet not found. Please install Petra wallet extension."),(0,g.redirectToPetraInstall)()):e.includes("rejected")||e.includes("denied")||e.includes("cancelled")?alert("Connection cancelled. Please try again and approve the connection."):e.includes("locked")||e.includes("unlock")?alert("Petra wallet is locked. Please unlock your wallet and try again."):e.includes("network")||e.includes("connection")?alert("Network error. Please check your internet connection and try again."):e.includes("timeout")||e.includes("TIMEOUT")?alert("Connection timed out. Please try again."):alert("Failed to connect wallet: ".concat(e,". Please make sure Petra wallet is unlocked and try again."))}},className:"btn btn-primary btn-connect-wallet",children:[(0,i.jsx)("svg",{width:"20",height:"19",viewBox:"0 0 35 33",fill:"none",xmlns:"http://www.w3.org/2000/svg",className:"petra-svg",children:(0,i.jsx)("path",{fillRule:"evenodd",clipRule:"evenodd",d:"M0 19.4667C0 8.94232 8.53168 0.410645 19.056 0.410645C33.0023 0.410645 39.6271 17.5875 29.2927 26.9522L24.4311 31.3576L15.654 23.3559L27.2291 12.2877H11.8771V32.1818H0V19.4667Z",fill:"currentColor"})}),"Connect Petra Wallet"]})})]})})]})})},w=()=>{var e;const{account:t,disconnect:o}=(0,s.vT)(),l=(0,r.Zp)(),{state:c,setMoodSeed:d,setTransactionCount:u,setLoading:p}=m(),[v,g]=(0,n.useState)(!1),[A,w]=(0,n.useState)(!1),[f,_]=(0,n.useState)(!1),P=(0,n.useCallback)(async()=>{if(null===t||void 0===t||!t.address)return;if(await(async()=>{try{var e;const t="devnet";if(null!==(e=window.aptos)&&void 0!==e&&e.network){const e=await window.aptos.network(),a=(null===e||void 0===e?void 0:e.name)||e;if(a&&!a.toLowerCase().includes(t.toLowerCase()))return alert("Network Warning: Please switch your wallet to ".concat(t.toUpperCase()," network. Currently connected to: ").concat(a)),!1}return!0}catch(t){return console.warn("Network compatibility check failed:",t),!0}})()){g(!0),p(!0);try{const{Aptos:e,AptosConfig:n,Network:o}=await Promise.resolve().then(a.bind(a,305)),r=new e(new n({network:"devnet",fullnode:"https://fullnode.devnet.aptoslabs.com/v1"})),s=t.address.toString(),i=await r.getAccountInfo({accountAddress:s});if(!i||"undefined"===typeof i.sequence_number)throw new Error("Invalid response from Aptos node");const l=parseInt(i.sequence_number);u(l),console.log("Data fetched: Found ".concat(l," transactions")),0===l&&alert("Your account has no transactions yet. You can still create an aura!")}catch(e){console.error("Error fetching user data:",e);const t=(null===e||void 0===e?void 0:e.message)||(null===e||void 0===e?void 0:e.toString())||"";t.includes("not found")||t.includes("Invalid response")?(u(0),alert("Account not found on Aptos network. This is normal for new accounts. Using transaction count: 0")):t.includes("network")||t.includes("fetch")||!navigator.onLine?alert("Network error. Please check your internet connection and try again."):t.includes("timeout")||t.includes("TIMEOUT")?alert("Request timed out. The network may be slow. Please try again."):t.includes("rate limit")||t.includes("429")?alert("Too many requests. Please wait a moment and try again."):t.includes("CORS")||t.includes("cors")?alert("Connection blocked by browser security. Please try refreshing the page."):t.includes("Unauthorized")||t.includes("401")?alert("Authorization error. Please reconnect your wallet."):(alert("Unable to fetch account data: ".concat(t,". Using demo values for now.")),u(Math.floor(50*Math.random())+5))}finally{g(!1),p(!1)}}},[t,u,p]);(0,n.useEffect)(()=>{null===t||void 0===t||!t.address||f||0!==c.transactionCount||v||(console.log("Auto-fetching transaction data for connected wallet..."),_(!0),P())},[null===t||void 0===t?void 0:t.address,f,c.transactionCount,v,P]),(0,n.useEffect)(()=>{null!==t&&void 0!==t&&t.address||_(!1)},[null===t||void 0===t?void 0:t.address]);return(0,i.jsx)("div",{className:"app-container",children:(0,i.jsxs)("div",{className:"app-content",children:[(0,i.jsx)(h,{}),(0,i.jsx)("main",{className:"main-content",children:(0,i.jsx)("div",{className:"wallet-section",children:(0,i.jsxs)("div",{className:"wallet-main",children:[(0,i.jsxs)("div",{className:"wallet-header-info",children:[(0,i.jsx)("div",{className:"wallet-address-display",children:(0,i.jsxs)("span",{className:"address-value ".concat(A?"copied":""),onClick:async()=>{if(null!==t&&void 0!==t&&t.address)try{await navigator.clipboard.writeText(t.address.toString()),w(!0),setTimeout(()=>w(!1),2e3)}catch(e){console.error("Failed to copy address:",e)}},style:{cursor:"pointer"},children:[null===t||void 0===t||null===(e=t.address)||void 0===e?void 0:e.toString(),(0,i.jsxs)("svg",{className:"copy-icon",width:"12",height:"12",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round",children:[(0,i.jsx)("rect",{x:"9",y:"9",width:"13",height:"13",rx:"2",ry:"2"}),(0,i.jsx)("path",{d:"M5 15H4a2 2 0 0 1-2-2V4a2 2 0 0 1 2-2h9a2 2 0 0 1 2 2v1"})]}),(0,i.jsx)("svg",{className:"checkmark-icon ".concat(A?"visible":""),width:"12",height:"12",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round",children:(0,i.jsx)("polyline",{points:"20,6 9,17 4,12"})})]})}),(0,i.jsx)("button",{onClick:o,className:"disconnect-btn",title:"Disconnect Wallet",children:(0,i.jsxs)("svg",{width:"12",height:"12",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"1",strokeLinecap:"round",strokeLinejoin:"round",children:[(0,i.jsx)("line",{x1:"18",y1:"6",x2:"6",y2:"18"}),(0,i.jsx)("line",{x1:"6",y1:"6",x2:"18",y2:"18"})]})})]}),(0,i.jsxs)("div",{className:"mood-input-section",children:[(0,i.jsxs)("div",{className:"mood-input-container",children:[(0,i.jsx)("label",{className:"mood-label",children:"Your Mood Seed"}),(0,i.jsx)("input",{type:"text",value:c.moodSeed,onChange:e=>d(e.target.value),onFocus:e=>e.target.select(),placeholder:"",className:"mood-input",spellCheck:!1,autoComplete:"off",autoCorrect:"off",autoCapitalize:"off"})]}),(0,i.jsxs)("div",{className:"data-fetch-section",children:[(0,i.jsx)("button",{onClick:()=>{_(!1),P()},disabled:v,className:"sync-btn",title:"Refresh transaction data",children:(0,i.jsxs)("svg",{className:"sync-icon ".concat(v?"rotating":""),width:"16",height:"16",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round",children:[(0,i.jsx)("polyline",{points:"23,4 23,10 17,10"}),(0,i.jsx)("polyline",{points:"1,20 1,14 7,14"}),(0,i.jsx)("path",{d:"M20.49,9A9,9,0,0,0,5.64,5.64L1,10m22,4l-4.64,4.36A9,9,0,0,1,3.51,15"})]})}),(0,i.jsxs)("span",{className:"tx-count",children:["Tx: ",c.transactionCount]})]})]}),(0,i.jsx)("div",{className:"generate-section",children:(0,i.jsxs)("button",{onClick:()=>{c.moodSeed.trim()?l("/aura"):alert("Please enter a mood seed to continue.")},disabled:!c.moodSeed.trim()||c.transactionCount<0,className:"btn btn-primary btn-connect-wallet",children:[(0,i.jsx)("span",{className:"generate-text",children:"Generate My Aura"}),(0,i.jsx)("div",{className:"generate-glow"})]})})]})})})]})})},f=()=>{switch("devnet".toLowerCase()){case"mainnet":return"Mainnet";case"testnet":return"Testnet";default:return"Devnet"}},_=async()=>{const e="devnet",t=await(async()=>{try{var e;if(null!==(e=window.aptos)&&void 0!==e&&e.network){const e=await window.aptos.network();return(null===e||void 0===e?void 0:e.name)||e||null}return null}catch(t){return console.warn("Failed to get current network:",t),null}})();if(!t)return{isCompatible:!0,expected:e,actual:t,warning:"Could not detect wallet network"};const a=t.toLowerCase().includes(e.toLowerCase())||e.toLowerCase().includes(t.toLowerCase());return{isCompatible:a,expected:e,actual:t,warning:a?void 0:"Please switch to ".concat(e.toUpperCase()," network")}},P=(0,n.lazy)(()=>a.e(990).then(a.bind(a,9990))),T=()=>{const{account:e,signAndSubmitTransaction:t}=(0,s.vT)(),{state:o,setImageData:r,setLoading:l,setTransactionHash:d}=m(),u=(0,n.useCallback)(e=>{r(e),d("")},[r,d]),p=function(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"error";console.error("".concat(t.toUpperCase(),": ").concat(e)),"error"===t?alert("Error: ".concat(e)):"warning"===t?alert("Warning: ".concat(e)):alert("Info: ".concat(e))};return(0,i.jsx)("div",{className:"app-container",children:(0,i.jsxs)("div",{className:"app-content",children:[(0,i.jsx)(h,{}),(0,i.jsx)("main",{className:"main-content aura-main-content",children:(0,i.jsxs)("div",{className:"aura-section aura-section-compact",children:[(0,i.jsx)("div",{className:"aura-generator-wrapper",children:(0,i.jsx)(n.Suspense,{fallback:(0,i.jsx)("div",{className:"aura-loading-fallback",children:(0,i.jsx)("div",{className:"loading-spinner"})}),children:(0,i.jsx)(P,{moodSeed:o.moodSeed,transactionCount:o.transactionCount,onImageGenerated:u})})}),o.imageData&&(0,i.jsx)("div",{className:"aura-content-wrapper",children:(0,i.jsxs)("div",{className:"action-buttons action-buttons-compact",children:[(0,i.jsxs)("button",{onClick:async()=>{var n;const[r,s]=await Promise.all([Promise.resolve().then(a.bind(a,6773)),a.e(786).then(a.bind(a,8786))]),{validateWalletConnection:i,validateMoodSeed:u,validateTransactionCount:m,validateImageData:h}=r,{apiService:v,createNFTMetadata:g,isStorageAvailable:A}=s,w=await _();if(!w.isCompatible)return void p("Network mismatch detected. Please switch your wallet to ".concat(w.expected," network. Currently on: ").concat(w.actual||"unknown"),"error");const f=i(null===e||void 0===e||null===(n=e.address)||void 0===n?void 0:n.toString());if(!f.isValid)return void p(f.error,"warning");const P=u(o.moodSeed);if(!P.isValid)return void p(P.error,"warning");const T=m(o.transactionCount);if(!T.isValid)return void p(T.error,"error");const C=h(o.imageData);if(!C.isValid)return void p(C.error,"warning");const E=await A();E||p("Storage service not available. Using demo mode for NFT minting.","warning"),l(!0),d("");try{var N;const n="Aura-".concat(o.moodSeed.replace(/[^a-zA-Z0-9]/g,""),"-").concat(Date.now()),r="Personal aura NFT generated from ".concat(o.transactionCount,' transactions with mood "').concat(o.moodSeed,'"');let s;if(E){const e=await fetch(o.imageData).then(e=>e.blob());console.log("Uploading your aura NFT to IPFS...");const t=g(n,r,"",[{trait_type:"Mood",value:o.moodSeed},{trait_type:"Transaction Count",value:o.transactionCount.toString()},{trait_type:"Generated At",value:(new Date).toISOString()},{trait_type:"Generator",value:"Aptos Aura Weaver v1.0"}]),a=await v.uploadNFT({imageFile:e,metadata:t});if(!a.success)throw new Error("NFT upload failed: ".concat(a.error));s=a.url,console.log("\ud83c\udfa8 Minting NFT with parameters:",(0,c.A)((0,c.A)({tokenName:n,moodSeed:o.moodSeed,transactionCount:o.transactionCount,uri:s},a.imageHash&&{imageHash:a.imageHash}),a.hash&&{metadataHash:a.hash}))}else{console.log("Creating your aura NFT with demo metadata...");const e="https://demo.aura-aptos.com/nft/".concat(n.replace(/[^a-zA-Z0-9]/g,""));s=e,console.log("\ud83c\udfa8 Minting NFT with parameters (Demo Mode):",{tokenName:n,moodSeed:o.moodSeed,transactionCount:o.transactionCount,uri:e})}console.log('Minting Started: Creating your aura NFT "'.concat(n,'"...'));const i=await t({data:{function:"0x0b65f8046e689981c490d760553a03b9d11775d03d78c141d6a44041c3b12a43::aura_nft::mint_aura",functionArguments:[o.moodSeed,o.transactionCount,n,s]},options:{maxGasAmount:1e4,gasUnitPrice:100}});console.log("\ud83c\udfa8 Transaction submitted:",i.hash);const l=await Promise.resolve().then(a.bind(a,305)),u="devnet",p="https://fullnode.devnet.aptoslabs.com/v1",m=new l.AptosConfig({network:u,fullnode:p}),h=new l.Aptos(m),A=await h.waitForTransaction({transactionHash:i.hash});console.log("\u2705 Transaction confirmed:",A),d(i.hash);const w='Your aura NFT "'.concat(n,!E?'" has been minted in demo mode! (Storage service not available)':'" has been minted with IPFS storage!');console.log("NFT Minted Successfully: ".concat(w)),console.log("\u2705 NFT Minting Details:",{tokenName:n,description:r,moodSeed:o.moodSeed,transactionCount:o.transactionCount,walletAddress:null===e||void 0===e||null===(N=e.address)||void 0===N?void 0:N.toString(),imageDataSize:o.imageData.length,transactionHash:i.hash,timestamp:(new Date).toISOString()}),alert("Success: ".concat(w))}catch(y){console.error("\u274c Error minting NFT:",y);const{message:e,type:t}=(e=>{const t=(null===e||void 0===e?void 0:e.message)||(null===e||void 0===e?void 0:e.toString())||"",a=(null===e||void 0===e?void 0:e.code)||(null===e||void 0===e?void 0:e.status);return t.includes("INSUFFICIENT_BALANCE_FOR_TRANSACTION_FEE")||t.includes("insufficient funds")?{message:"Insufficient APT balance for gas fees. Please add more APT to your wallet.",type:"error"}:t.includes("SEQUENCE_NUMBER_TOO_OLD")||t.includes("sequence number")?{message:"Transaction sequence error. Please refresh your wallet and try again.",type:"warning"}:t.includes("TRANSACTION_EXPIRED")||t.includes("expired")?{message:"Transaction expired due to network delay. Please try again.",type:"warning"}:t.includes("INVALID_SIGNATURE")||t.includes("signature")?{message:"Invalid signature. Please check your wallet connection and try again.",type:"error"}:t.includes("MODULE_NOT_FOUND")||t.includes("module")?{message:"Smart contract not found. Please ensure you are on the correct network (Devnet).",type:"error"}:t.includes("FUNCTION_NOT_FOUND")||t.includes("function")?{message:"Contract function not available. The smart contract may need updating.",type:"error"}:t.includes("INVALID_ARGUMENT")||t.includes("argument")?{message:"Invalid transaction parameters. Please refresh and try again.",type:"error"}:t.includes("rejected")||t.includes("denied")||t.includes("cancelled")?{message:"Transaction was rejected. Please approve the transaction to continue.",type:"warning"}:t.includes("network")||t.includes("connection")||t.includes("timeout")?{message:"Network connection issue. Please check your internet connection and try again.",type:"warning"}:t.includes("gas")||t.includes("Gas")?{message:"Gas estimation failed. Please try again with a higher gas limit.",type:"error"}:429===a||t.includes("rate limit")||t.includes("too many requests")?{message:"Too many requests. Please wait a moment and try again.",type:"warning"}:{message:"Transaction failed: ".concat(t||"Unknown error occurred"),type:"error"}})(y);p(e,t),console.error("Detailed error info:",{originalError:y,errorMessage:null===y||void 0===y?void 0:y.message,errorCode:null===y||void 0===y?void 0:y.code,errorStatus:null===y||void 0===y?void 0:y.status,stack:null===y||void 0===y?void 0:y.stack})}finally{l(!1)}},disabled:o.loading,className:"btn btn-primary btn-connect-wallet ".concat(o.loading?"loading":""),children:[o.loading&&(0,i.jsx)("span",{className:"loading-spinner"}),(0,i.jsx)("span",{className:"generate-text",children:o.loading?"Minting...":"Mint as NFT"}),(0,i.jsx)("div",{className:"generate-glow"})]}),(0,i.jsxs)("button",{onClick:()=>{var e,t;if(o.imageData)try{const a="aura-".concat(o.moodSeed.replace(/[^a-zA-Z0-9]/g,""),"-").concat(Date.now(),".png"),n=document.createElement("a");n.download=a,n.href=o.imageData,document.body.appendChild(n),n.click(),document.body.removeChild(n),e="Download Complete",t='Aura image "'.concat(a,'" downloaded successfully!'),console.log("SUCCESS - ".concat(e,": ").concat(t))}catch(a){p("Failed to download image","error")}else p("No aura image available to download","warning")},className:"btn btn-primary btn-connect-wallet btn-download-aura",title:"Download your aura as PNG",children:[(0,i.jsx)("span",{className:"generate-text",children:"Download"}),(0,i.jsx)("div",{className:"generate-glow"})]}),o.lastTransactionHash&&""!==o.lastTransactionHash.trim()&&(0,i.jsxs)("button",{onClick:()=>(e=>{const t=(e=>{switch("devnet".toLowerCase()){case"mainnet":return"https://explorer.aptoslabs.com/txn/".concat(e,"?network=mainnet");case"testnet":return"https://explorer.aptoslabs.com/txn/".concat(e,"?network=testnet");default:return"https://explorer.aptoslabs.com/txn/".concat(e,"?network=devnet")}})(e);window.open(t,"_blank","noopener,noreferrer")})(o.lastTransactionHash),className:"btn btn-secondary btn-connect-wallet btn-explorer",title:"View transaction on Aptos ".concat(f()),children:[(0,i.jsxs)("span",{className:"generate-text",children:["View on Aptos ",f()]}),(0,i.jsx)("div",{className:"generate-glow"})]})]})})]})}),(0,i.jsx)("footer",{className:"mvp-footer",children:(0,i.jsx)("p",{className:"mvp-note mvp-note-compact",children:"Live on Aptos Devnet! Switch to Devnet in your wallet and faucet APT."})})]})})},C=()=>{const{connected:e}=(0,s.vT)(),t=(0,r.Zp)();return(0,n.useEffect)(()=>{e?"/Aptos-Aura-Weaver/"!==window.location.pathname&&"/Aptos-Aura-Weaver"!==window.location.pathname||t("/wallet"):"/Aptos-Aura-Weaver/"!==window.location.pathname&&"/Aptos-Aura-Weaver"!==window.location.pathname&&t("/")},[e,t]),(0,i.jsxs)(r.BV,{children:[(0,i.jsx)(r.qh,{path:"/",element:(0,i.jsx)(A,{})}),(0,i.jsx)(r.qh,{path:"/wallet",element:e?(0,i.jsx)(w,{}):(0,i.jsx)(r.C5,{to:"/",replace:!0})}),(0,i.jsx)(r.qh,{path:"/aura",element:e?(0,i.jsx)(T,{}):(0,i.jsx)(r.C5,{to:"/",replace:!0})}),(0,i.jsx)(r.qh,{path:"*",element:(0,i.jsx)(r.C5,{to:"/",replace:!0})})]})};const E=function(){return(0,i.jsx)(l,{children:(0,i.jsx)(p,{children:(0,i.jsx)(r.Kd,{basename:"/Aptos-Aura-Weaver",children:(0,i.jsx)(C,{})})})})},N=e=>{e&&e instanceof Function&&a.e(96).then(a.bind(a,6453)).then(t=>{let{getCLS:a,getFID:n,getFCP:o,getLCP:r,getTTFB:s}=t;a(e),n(e),o(e),r(e),s(e)})};o.createRoot(document.getElementById("root")).render((0,i.jsx)(n.StrictMode,{children:(0,i.jsx)(E,{})})),N()},6773:(e,t,a)=>{"use strict";a.r(t),a.d(t,{isDesktopDevice:()=>c,isPetraWalletInstalled:()=>d,redirectToPetraInstall:()=>u,validateIPFSConfig:()=>s,validateImageData:()=>l,validateMoodSeed:()=>n,validateNetworkConnection:()=>r,validateTransactionCount:()=>o,validateWalletConnection:()=>i});const n=function(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};const{minLength:a=2,maxLength:n=100,allowSpecialChars:o=!0,maxSpecialCharRatio:r=.5}=t,s=e.trim();if(!s)return{isValid:!1,error:"Please enter a mood seed to generate your aura"};if(s.length<a)return{isValid:!1,error:"Mood seed should be at least ".concat(a," characters long")};if(s.length>n)return{isValid:!1,error:"Mood seed should be less than ".concat(n," characters")};const i=[/<script/i,/javascript:/i,/data:/i,/vbscript:/i,/on\w+\s*=/i,/[<>"']/];for(const l of i)if(l.test(s))return{isValid:!1,error:"Mood seed contains invalid characters (<, >, \", '). Please use only letters, numbers, and spaces."};if(/[\u0000-\u001F\u007F]/.test(s))return{isValid:!1,error:"Mood seed contains invalid control characters. Please use only regular text."};if(!o){if((s.match(/[^a-zA-Z0-9\s]/g)||[]).length/s.length>r)return{isValid:!1,error:"Mood seed contains too many special characters. Please use more descriptive text."}}return{isValid:!0}},o=function(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};const{minValue:a=0,maxValue:n=1e5,allowNegative:o=!1}=t;return"number"!==typeof e||isNaN(e)?{isValid:!1,error:"Invalid transaction count. Please refresh and try again."}:!o&&e<a?{isValid:!1,error:"Transaction count cannot be negative."}:e>n?{isValid:!1,error:"Transaction count seems unusually high. Please verify the data."}:{isValid:!0}},r=()=>navigator.onLine?{isValid:!0}:{isValid:!1,error:"No internet connection. Please check your network and try again."},s=(e,t)=>e&&t?{isValid:!0}:{isValid:!1,error:"IPFS configuration missing. Please set up IPFS credentials for NFT storage."},i=e=>e?{isValid:!0}:{isValid:!1,error:"No wallet connected. Please connect your wallet first."},l=e=>{if(!e)return{isValid:!1,error:"No aura generated yet. Please wait for the aura to be created."};try{return new URL(e),{isValid:!0}}catch(t){return{isValid:!1,error:"Invalid image data format."}}},c=()=>{const e=navigator.userAgent.toLowerCase();return!/android|webos|iphone|ipad|ipod|blackberry|iemobile|opera mini/i.test(e)},d=()=>!!window.aptos||!!window.petra,u=()=>{window.open("https://petra.app/","_blank")}}},t={};function a(n){var o=t[n];if(void 0!==o)return o.exports;var r=t[n]={exports:{}};return e[n].call(r.exports,r,r.exports,a),r.exports}a.m=e,a.amdD=function(){throw new Error("define cannot be used indirect")},a.amdO={},(()=>{var e=[];a.O=(t,n,o,r)=>{if(!n){var s=1/0;for(d=0;d<e.length;d++){n=e[d][0],o=e[d][1],r=e[d][2];for(var i=!0,l=0;l<n.length;l++)(!1&r||s>=r)&&Object.keys(a.O).every(e=>a.O[e](n[l]))?n.splice(l--,1):(i=!1,r<s&&(s=r));if(i){e.splice(d--,1);var c=o();void 0!==c&&(t=c)}}return t}r=r||0;for(var d=e.length;d>0&&e[d-1][2]>r;d--)e[d]=e[d-1];e[d]=[n,o,r]}})(),a.n=e=>{var t=e&&e.__esModule?()=>e.default:()=>e;return a.d(t,{a:t}),t},(()=>{var e,t=Object.getPrototypeOf?e=>Object.getPrototypeOf(e):e=>e.__proto__;a.t=function(n,o){if(1&o&&(n=this(n)),8&o)return n;if("object"===typeof n&&n){if(4&o&&n.__esModule)return n;if(16&o&&"function"===typeof n.then)return n}var r=Object.create(null);a.r(r);var s={};e=e||[null,t({}),t([]),t(t)];for(var i=2&o&&n;("object"==typeof i||"function"==typeof i)&&!~e.indexOf(i);i=t(i))Object.getOwnPropertyNames(i).forEach(e=>s[e]=()=>n[e]);return s.default=()=>n,a.d(r,s),r}})(),a.d=(e,t)=>{for(var n in t)a.o(t,n)&&!a.o(e,n)&&Object.defineProperty(e,n,{enumerable:!0,get:t[n]})},a.f={},a.e=e=>Promise.all(Object.keys(a.f).reduce((t,n)=>(a.f[n](e,t),t),[])),a.u=e=>"static/js/"+(84===e?"p5-graphics":e)+"."+{84:"9bfb73ef",786:"1db47b8c",990:"7864d011"}[e]+".chunk.js",a.miniCssF=e=>{},a.g=function(){if("object"===typeof globalThis)return globalThis;try{return this||new Function("return this")()}catch(e){if("object"===typeof window)return window}}(),a.o=(e,t)=>Object.prototype.hasOwnProperty.call(e,t),(()=>{var e={},t="frontend:";a.l=(n,o,r,s)=>{if(e[n])e[n].push(o);else{var i,l;if(void 0!==r)for(var c=document.getElementsByTagName("script"),d=0;d<c.length;d++){var u=c[d];if(u.getAttribute("src")==n||u.getAttribute("data-webpack")==t+r){i=u;break}}i||(l=!0,(i=document.createElement("script")).charset="utf-8",i.timeout=120,a.nc&&i.setAttribute("nonce",a.nc),i.setAttribute("data-webpack",t+r),i.src=n),e[n]=[o];var p=(t,a)=>{i.onerror=i.onload=null,clearTimeout(m);var o=e[n];if(delete e[n],i.parentNode&&i.parentNode.removeChild(i),o&&o.forEach(e=>e(a)),t)return t(a)},m=setTimeout(p.bind(null,void 0,{type:"timeout",target:i}),12e4);i.onerror=p.bind(null,i.onerror),i.onload=p.bind(null,i.onload),l&&document.head.appendChild(i)}}})(),a.r=e=>{"undefined"!==typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})},a.p="/Aptos-Aura-Weaver/",(()=>{var e={792:0};a.f.j=(t,n)=>{var o=a.o(e,t)?e[t]:void 0;if(0!==o)if(o)n.push(o[2]);else{var r=new Promise((a,n)=>o=e[t]=[a,n]);n.push(o[2]=r);var s=a.p+a.u(t),i=new Error;a.l(s,n=>{if(a.o(e,t)&&(0!==(o=e[t])&&(e[t]=void 0),o)){var r=n&&("load"===n.type?"missing":n.type),s=n&&n.target&&n.target.src;i.message="Loading chunk "+t+" failed.\n("+r+": "+s+")",i.name="ChunkLoadError",i.type=r,i.request=s,o[1](i)}},"chunk-"+t,t)}},a.O.j=t=>0===e[t];var t=(t,n)=>{var o,r,s=n[0],i=n[1],l=n[2],c=0;if(s.some(t=>0!==e[t])){for(o in i)a.o(i,o)&&(a.m[o]=i[o]);if(l)var d=l(a)}for(t&&t(n);c<s.length;c++)r=s[c],a.o(e,r)&&e[r]&&e[r][0](),e[r]=0;return a.O(d)},n=self.webpackChunkfrontend=self.webpackChunkfrontend||[];n.forEach(t.bind(null,0)),n.push=t.bind(null,n.push.bind(n))})();var n=a.O(void 0,[257,96],()=>a(5808));n=a.O(n)})();
//# sourceMappingURL=main.c83efcd0.js.map