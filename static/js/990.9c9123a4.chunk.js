"use strict";(self.webpackChunkfrontend=self.webpackChunkfrontend||[]).push([[990],{9990:(e,t,n)=>{n.r(t),n.d(t,{default:()=>a});var r=n(5043),s=n(579);const a=e=>{let{moodSeed:t,transactionCount:a,onImageGenerated:o}=e;const i=(0,r.useRef)(null),l=(0,r.useRef)(null),c=(0,r.useRef)(!1),u=(0,r.useRef)(!1),h=(0,r.useRef)(o);return(0,r.useEffect)(()=>{h.current=o},[o]),(0,r.useEffect)(()=>{if(!i.current||!t||c.current)return;l.current&&(l.current.remove(),l.current=null),u.current=!1,c.current=!0;return(async()=>{const e=(await Promise.all([n.e(84),n.e(96)]).then(n.bind(n,9119))).default,r=e=>{let n=[],r=[];const s={happy:[[255,223,0],[255,165,0],[255,69,0]],calm:[[64,224,208],[0,191,255],[138,43,226]],energetic:[[255,20,147],[255,0,255],[255,105,180]],peaceful:[[144,238,144],[152,251,152],[173,255,47]],mysterious:[[75,0,130],[138,43,226],[72,61,139]],passionate:[[220,20,60],[255,69,0],[255,140,0]],default:[[100,149,237],[65,105,225],[30,144,255]]},o=t.split("").reduce((e,t)=>e+t.charCodeAt(0),0),i=(e=>{const t=e.toLowerCase();for(const[n,r]of Object.entries(s))if(t.includes(n)||t.includes(n.slice(0,4)))return r;return s.default})(t);e.setup=()=>{const t=e.createCanvas(150,150);e.colorMode(e.RGB);const s=Math.min(Math.max(a,5)+10,35);for(let r=0;r<s;r++){const t=r%i.length,[a,l,c]=i[t];n.push({x:e.width/2,y:e.height/2,angle:r/s*e.TWO_PI+.01*o,baseRadius:40+r%4*20,radiusVariation:15+r%3*10,size:4+r%3*2,r:Math.min(255,a+(o+23*r)%40),g:Math.min(255,l+(o+37*r)%40),b:Math.min(255,c+(o+41*r)%40),phaseOffset:.2*r,type:r%3})}const f=Math.floor(a/15)+2;for(let n=0;n<Math.min(f,5);n++)r.push({amplitude:20+8*n,phase:n*e.PI*.4+.01*o,color:i[n%i.length],alpha:25+8*n});l(),u.current||(u.current=!0,setTimeout(()=>{if(t&&t.canvas){const e=t.canvas.toDataURL("image/png");h.current(e)}c.current=!1},150))};const l=()=>{e.background(0);for(let n=150;n>0;n-=3){const t=255*(1-.7*e.map(n,0,150,0,1)),r=i[0];e.fill(.15*r[0],.15*r[1],.15*r[2],.3*t),e.noStroke(),e.ellipse(e.width/2,e.height/2,n,n)}r.forEach((t,n)=>{const[r,s,a]=t.color;e.stroke(r,s,a,.5*t.alpha),e.strokeWeight(1),e.noFill(),e.beginShape();for(let o=0;o<e.TWO_PI;o+=.2){const n=50+t.amplitude*Math.sin(2*o+t.phase),r=e.width/2+Math.cos(o)*n,s=e.height/2+Math.sin(o)*n;e.vertex(r,s)}e.endShape(e.CLOSE)}),n.forEach((t,n)=>{let r,s;if(0===t.type){const e=t.baseRadius+Math.sin(t.phaseOffset+.01*o)*t.radiusVariation*.5;r=Math.cos(t.angle+.001*o)*e,s=Math.sin(t.angle+.001*o)*e}else if(1===t.type){const e=t.baseRadius+5*n%40,a=t.angle+.3*n;r=Math.cos(a)*e,s=Math.sin(a)*e}else{const e=t.baseRadius+25*Math.sin(t.phaseOffset+.5*n);r=Math.cos(t.angle)*e,s=Math.sin(t.angle)*e}const a=.5*Math.sin(.01*o+.3*n)+.5,i=t.size+3*a;e.push(),e.translate(e.width/2,e.height/2);for(let o=2;o>0;o--){const n=60/o;e.fill(t.r,t.g,t.b,n),e.noStroke(),e.ellipse(r,s,i+2*o,i+2*o)}e.fill(t.r,t.g,t.b,200),e.noStroke(),e.ellipse(r,s,i,i),e.fill(255,255,255,80),e.ellipse(r-.2*i,s-.2*i,.3*i,.3*i),n%5===0&&(e.stroke(t.r,t.g,t.b,40),e.strokeWeight(.5),e.line(0,0,r,s)),e.pop()});const t=12+4*Math.sin(.005*o),s=i[0];e.push(),e.translate(e.width/2,e.height/2);for(let n=3;n>0;n--){const r=60/n;e.fill(s[0],s[1],s[2],r),e.noStroke(),e.ellipse(0,0,t+2*n,t+2*n)}e.fill(255,255,255,150),e.ellipse(0,0,.5*t,.5*t),e.pop()};e.noLoop()};i.current&&(l.current=new e(r,i.current))})().catch(e=>{console.error("P5 initialization error:",e),c.current=!1}),()=>{c.current=!1,l.current&&(l.current.remove(),l.current=null)}},[t,a]),(0,s.jsx)("div",{className:"aura-generator-container",children:(0,s.jsx)("div",{ref:i,className:"aura-canvas-container"})})}}}]);
//# sourceMappingURL=990.9c9123a4.chunk.js.map