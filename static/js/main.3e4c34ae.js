(()=>{var e={1281:()=>{},5100:(e,t,n)=>{"use strict";var a=n(5043),o=n(4391),r=n(9622),i=(n(5386),n(579));const s=e=>{let{children:t}=e;const n="devnet",a={NODE_ENV:"production",PUBLIC_URL:"/Aptos-Aura-Weaver",WDS_SOCKET_HOST:void 0,WDS_SOCKET_PATH:void 0,WDS_SOCKET_PORT:void 0,FAST_REFRESH:!0,REACT_APP_APTOS_NETWORK:"devnet",REACT_APP_APTOS_NODE_URL:"https://fullnode.devnet.aptoslabs.com/v1",REACT_APP_BACKEND_URL:"http://localhost:3001",REACT_APP_DEBUG_MODE:"true",REACT_APP_ENABLE_ANALYTICS:"false",REACT_APP_ENABLE_IPFS:"true",REACT_APP_ENABLE_MOCK_DATA:"false",REACT_APP_IPFS_GATEWAY:"https://gateway.pinata.cloud/ipfs/"}.REACT_APP_PINATA_API_KEY&&{NODE_ENV:"production",PUBLIC_URL:"/Aptos-Aura-Weaver",WDS_SOCKET_HOST:void 0,WDS_SOCKET_PATH:void 0,WDS_SOCKET_PORT:void 0,FAST_REFRESH:!0,REACT_APP_APTOS_NETWORK:"devnet",REACT_APP_APTOS_NODE_URL:"https://fullnode.devnet.aptoslabs.com/v1",REACT_APP_BACKEND_URL:"http://localhost:3001",REACT_APP_DEBUG_MODE:"true",REACT_APP_ENABLE_ANALYTICS:"false",REACT_APP_ENABLE_IPFS:"true",REACT_APP_ENABLE_MOCK_DATA:"false",REACT_APP_IPFS_GATEWAY:"https://gateway.pinata.cloud/ipfs/"}.REACT_APP_PINATA_SECRET_KEY?{[n]:{pinata:{apiKey:{NODE_ENV:"production",PUBLIC_URL:"/Aptos-Aura-Weaver",WDS_SOCKET_HOST:void 0,WDS_SOCKET_PATH:void 0,WDS_SOCKET_PORT:void 0,FAST_REFRESH:!0,REACT_APP_APTOS_NETWORK:"devnet",REACT_APP_APTOS_NODE_URL:"https://fullnode.devnet.aptoslabs.com/v1",REACT_APP_BACKEND_URL:"http://localhost:3001",REACT_APP_DEBUG_MODE:"true",REACT_APP_ENABLE_ANALYTICS:"false",REACT_APP_ENABLE_IPFS:"true",REACT_APP_ENABLE_MOCK_DATA:"false",REACT_APP_IPFS_GATEWAY:"https://gateway.pinata.cloud/ipfs/"}.REACT_APP_PINATA_API_KEY,secretKey:{NODE_ENV:"production",PUBLIC_URL:"/Aptos-Aura-Weaver",WDS_SOCKET_HOST:void 0,WDS_SOCKET_PATH:void 0,WDS_SOCKET_PORT:void 0,FAST_REFRESH:!0,REACT_APP_APTOS_NETWORK:"devnet",REACT_APP_APTOS_NODE_URL:"https://fullnode.devnet.aptoslabs.com/v1",REACT_APP_BACKEND_URL:"http://localhost:3001",REACT_APP_DEBUG_MODE:"true",REACT_APP_ENABLE_ANALYTICS:"false",REACT_APP_ENABLE_IPFS:"true",REACT_APP_ENABLE_MOCK_DATA:"false",REACT_APP_IPFS_GATEWAY:"https://gateway.pinata.cloud/ipfs/"}.REACT_APP_PINATA_SECRET_KEY}}}:void 0;return(0,i.jsx)(r.nu,{autoConnect:!0,dappConfig:{network:n,aptosApiKeys:a},optInWallets:["Petra"],onError:e=>{console.error("Wallet adapter error:",e)},children:t})},l=n.p+"static/media/pxArt.a19411e7d4d8b47d58af.png",c=(0,a.lazy)(()=>n.e(990).then(n.bind(n,9990))),d=()=>n.e(773).then(n.bind(n,6773));let u=null,p=null;const v=async()=>{if(!u){const{Aptos:e,AptosConfig:t,Network:a}=await Promise.resolve().then(n.bind(n,5386));p=new t({network:"devnet",fullnode:"https://fullnode.devnet.aptoslabs.com/v1"}),u=new e(p)}return u};function A(){var e;const{account:t,connected:o,connect:s,disconnect:u,signAndSubmitTransaction:p}=(0,r.vT)(),[A,h]=(0,a.useState)(""),[m,g]=(0,a.useState)(0),[_,f]=(0,a.useState)(""),[P,E]=(0,a.useState)(!1),T=function(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"error";console.error("".concat(t.toUpperCase(),": ").concat(e)),"error"===t&&alert("Error: ".concat(e))},C=(e,t)=>{console.log("SUCCESS - ".concat(e,": ").concat(t))},N=()=>{const e=m>1e3?"Legendary":m>100?"Epic":m>50?"Rare":"Common";return'\ud83c\udf1f Just created my personalized Aura NFT on @Aptos! \n    \n\u2728 Mood: "'.concat(A,'"\n\ud83d\udd17 ').concat(m," transactions analyzed  \n\ud83c\udfa8 Rarity: ").concat(e,"\n\n#AptosAura #NFT #Web3 #PersonalizedNFT")};return(0,i.jsx)("div",{className:"app-container",children:(0,i.jsxs)("div",{className:"app-content",children:[(0,i.jsx)("header",{className:"app-header",children:(0,i.jsxs)("div",{className:"header-content",children:[(0,i.jsxs)("div",{className:"header-text",children:[(0,i.jsx)("h1",{className:"app-title",children:"APTOS AURA WEAVER"}),(0,i.jsx)("p",{className:"app-subtitle",children:"Generate your personalized aura NFT based on your on-chain activity"})]}),(0,i.jsx)("div",{className:"header-actions"})]})}),(0,i.jsx)("main",{className:"main-content",children:o?(0,i.jsxs)("div",{children:[(0,i.jsxs)("div",{className:"wallet-info",children:[(0,i.jsxs)("div",{className:"wallet-address selectable",children:[(0,i.jsx)("strong",{children:"Connected:"})," ",null===t||void 0===t||null===(e=t.address)||void 0===e?void 0:e.toString()]}),(0,i.jsx)("button",{onClick:()=>{u(),console.log("Wallet disconnected")},className:"btn btn-danger",children:"Disconnect"})]}),(0,i.jsx)("div",{className:"section",children:(0,i.jsxs)("div",{className:"fetch-data-row",children:[(0,i.jsxs)("button",{onClick:async()=>{var e;const n=await d(),{validateWalletConnection:a,validateNetworkConnection:o,validateTransactionCount:r}=n,i=a(null===t||void 0===t||null===(e=t.address)||void 0===e?void 0:e.toString());if(!i.isValid)return void T(i.error,"warning");const s=o();if(s.isValid){E(!0);try{const e=await v(),n=t.address.toString(),a=await e.getAccountInfo({accountAddress:n});if(!a||"undefined"===typeof a.sequence_number)throw new Error("Invalid response from Aptos node");const o=parseInt(a.sequence_number),i=r(o,{minValue:0});if(!i.isValid)throw new Error(i.error);g(o),console.log("Data fetched: Found ".concat(o," transactions")),0===o&&T("Your account has no transactions yet. You can still create an aura!","info")}catch(A){var l,c,u,p;console.error("Error fetching user data:",A),null!==A&&void 0!==A&&null!==(l=A.message)&&void 0!==l&&l.includes("not found")||null!==A&&void 0!==A&&null!==(c=A.message)&&void 0!==c&&c.includes("Invalid response")?(g(0),T("Account not found on Aptos network. Using default values for demo.","info")):null!==A&&void 0!==A&&null!==(u=A.message)&&void 0!==u&&u.includes("network")||!navigator.onLine?T("Network error. Please check your connection and try again.","error"):null!==A&&void 0!==A&&null!==(p=A.message)&&void 0!==p&&p.includes("timeout")?T("Request timed out. Please try again.","warning"):(T("Unable to fetch account data. Using demo values.","warning"),g(Math.floor(50*Math.random())+5))}finally{E(!1)}}else T(s.error,"error")},disabled:P,className:"btn ".concat(P?"":"btn-success"),children:[P&&(0,i.jsx)("span",{className:"loading-spinner"}),P?"Loading...":"Fetch Account Data"]}),(0,i.jsxs)("div",{className:"status-indicator ".concat(m>0?"status-success":""),children:[(0,i.jsx)("strong",{children:"Transaction Count:"})," ",m,m>0&&(0,i.jsx)("span",{children:"\u2713"})]})]})}),(0,i.jsxs)("div",{className:"input-group",children:[(0,i.jsx)("label",{className:"input-label",children:"Mood Seed"}),(0,i.jsx)("input",{type:"text",value:A,onChange:e=>h(e.target.value),placeholder:"Enter your mood (e.g., 'happy \ud83d\ude0a', 'calm \ud83c\udf0a', 'energetic \u26a1')",className:"form-input"})]}),A&&m>=0&&(0,i.jsxs)("div",{className:"aura-section",children:[(0,i.jsx)("h3",{className:"aura-title",children:"Your Personal Aura"}),(0,i.jsx)("div",{style:{display:"flex",justifyContent:"center",marginBottom:"24px"},children:(0,i.jsx)(a.Suspense,{fallback:(0,i.jsxs)("div",{className:"aura-loading-fallback",children:[(0,i.jsx)("div",{className:"loading-spinner"}),(0,i.jsx)("p",{children:"Generating your aura visualization..."})]}),children:(0,i.jsx)(c,{moodSeed:A,transactionCount:m,onImageGenerated:f})})}),_&&(0,i.jsxs)("div",{children:[(0,i.jsxs)("p",{className:"aura-description",children:["Your unique aura generated from ",(0,i.jsx)("strong",{children:m})," transactions and mood ",(0,i.jsxs)("strong",{children:['"',A,'"']})]}),(0,i.jsxs)("div",{className:"action-buttons",children:[(0,i.jsxs)("button",{onClick:async()=>{var e;const[a,o]=await Promise.all([d(),n.e(170).then(n.bind(n,1170))]),{validateWalletConnection:r,validateMoodSeed:i,validateTransactionCount:s,validateImageData:l}=a,{getIPFSConfig:c,uploadToIPFS:u,createNFTMetadata:h}=o,g=r(null===t||void 0===t||null===(e=t.address)||void 0===e?void 0:e.toString());if(!g.isValid)return void T(g.error,"warning");const f=i(A);if(!f.isValid)return void T(f.error,"warning");const P=s(m);if(!P.isValid)return void T(P.error,"error");const C=l(_);if(!C.isValid)return void T(C.error,"warning");const N=c(),w=N.apiKey&&N.secretKey;w||T("IPFS not configured. Using demo mode for NFT minting.","warning"),E(!0);try{var S;const e="Aura-".concat(A.replace(/[^a-zA-Z0-9]/g,""),"-").concat(Date.now()),n="Personal aura NFT generated from ".concat(m,' transactions with mood "').concat(A,'"');let a;if(w){const t=await fetch(_).then(e=>e.blob());console.log("Uploading your aura image to IPFS...");const o=await u(t,N);if(!o.success)throw new Error("IPFS upload failed: ".concat(o.error));const r=h(e,n,o.url,[{trait_type:"Mood",value:A},{trait_type:"Transaction Count",value:m.toString()},{trait_type:"Generated At",value:(new Date).toISOString()},{trait_type:"Generator",value:"Aptos Aura Weaver v1.0"}]),i=await u(new Blob([JSON.stringify(r,null,2)],{type:"application/json"}),N);if(!i.success)throw new Error("Metadata upload failed: ".concat(i.error));a=i.url,console.log("\ud83c\udfa8 Minting NFT with parameters:",{tokenName:e,moodSeed:A,transactionCount:m,uri:a,imageHash:o.hash,metadataHash:i.hash})}else{console.log("Creating your aura NFT with demo metadata...");const t="https://demo.aura-aptos.com/nft/".concat(e.replace(/[^a-zA-Z0-9]/g,""));a=t,console.log("\ud83c\udfa8 Minting NFT with parameters (Demo Mode):",{tokenName:e,moodSeed:A,transactionCount:m,uri:t})}console.log('Minting Started: Creating your aura NFT "'.concat(e,'"...'));const o=await p({data:{function:"0x0b65f8046e689981c490d760553a03b9d11775d03d78c141d6a44041c3b12a43::aura_nft::mint_aura",functionArguments:[A,m,e,a]},options:{maxGasAmount:1e4,gasUnitPrice:100}});console.log("\ud83c\udfa8 Transaction submitted:",o.hash);const r=await v(),i=await r.waitForTransaction({transactionHash:o.hash});console.log("\u2705 Transaction confirmed:",i);const s='Your aura NFT "'.concat(e,!w?'" has been minted in demo mode! (IPFS not configured)':'" has been minted!');console.log("NFT Minted Successfully: ".concat(s)),console.log("\u2705 NFT Minting Details:",{tokenName:e,description:n,moodSeed:A,transactionCount:m,walletAddress:null===t||void 0===t||null===(S=t.address)||void 0===S?void 0:S.toString(),imageDataSize:_.length,timestamp:(new Date).toISOString()})}catch(R){var b,y,x;console.error("\u274c Error minting NFT:",R),null!==R&&void 0!==R&&null!==(b=R.message)&&void 0!==b&&b.includes("insufficient funds")?T("Insufficient funds to mint NFT. Please ensure you have enough APT tokens.","error"):null!==R&&void 0!==R&&null!==(y=R.message)&&void 0!==y&&y.includes("network")?T("Network error during minting. Please check your connection and try again.","error"):null!==R&&void 0!==R&&null!==(x=R.message)&&void 0!==x&&x.includes("rejected")?T("Transaction was rejected. Please try again.","warning"):T("Failed to mint NFT. Please try again later.","error")}finally{E(!1)}},disabled:P,className:"btn btn-mint ".concat(P?"loading":""),children:[P&&(0,i.jsx)("span",{className:"loading-spinner"}),P?"Minting...":"\ud83c\udfa8 Mint as NFT"]}),(0,i.jsx)("button",{onClick:()=>{if(_)try{const e="aura-".concat(A.replace(/[^a-zA-Z0-9]/g,""),"-").concat(Date.now(),".png"),t=document.createElement("a");t.download=e,t.href=_,document.body.appendChild(t),t.click(),document.body.removeChild(t),C("Download Complete",'Aura image "'.concat(e,'" downloaded successfully!'))}catch(e){T("Failed to download image","error")}else T("No aura image available to download","warning")},className:"btn btn-secondary",title:"Download your aura as PNG",children:"\ud83d\udce5 Download"})]}),(0,i.jsxs)("div",{className:"social-sharing",children:[(0,i.jsx)("h4",{className:"social-title",children:"Share Your Aura"}),(0,i.jsxs)("div",{className:"social-buttons",children:[(0,i.jsx)("button",{onClick:()=>{const e=encodeURIComponent(N()),t="https://twitter.com/intent/tweet?text=".concat(e);window.open(t,"_blank","width=600,height=400")},className:"btn btn-social btn-twitter",title:"Share on Twitter/X",children:"\ud83d\udc26 Share on X"}),(0,i.jsx)("button",{onClick:async()=>{try{await navigator.clipboard.writeText(N()),C("Copied to Clipboard","Share text copied successfully!")}catch(e){T("Failed to copy to clipboard","warning")}},className:"btn btn-social btn-copy",title:"Copy share text to clipboard",children:"\ud83d\udccb Copy Text"})]}),(0,i.jsxs)("div",{className:"share-preview",children:[(0,i.jsx)("p",{className:"share-preview-title",children:"Preview:"}),(0,i.jsx)("div",{className:"share-preview-content selectable",children:N().split("\n").map((e,t)=>(0,i.jsx)("div",{children:e||"\xa0"},t))})]})]}),(0,i.jsx)("p",{className:"mvp-note",children:"\ud83c\udf89 Live on Aptos Devnet! Your NFTs will be minted on-chain."})]})]})]}):(0,i.jsxs)("div",{className:"wallet-connect-section",children:[(0,i.jsx)("div",{className:"pixel-art-container",children:(0,i.jsx)("img",{src:l,alt:"Pixel Art Character",className:"pixel-art-image",draggable:"false"})}),(0,i.jsxs)("button",{onClick:async()=>{if(P)return;const e=await d(),{isPetraWalletInstalled:t,isDesktopDevice:n,redirectToPetraInstall:a}=e;if(!t()&&n())return T("Petra wallet is not installed. Redirecting to installation page...","info"),void a();try{E(!0),await s("Petra")}catch(u){var o,r,i,l,c;console.error("Wallet connection error:",u);let e="Failed to connect wallet. Please try again.",s="error";if(null!==u&&void 0!==u&&null!==(o=u.message)&&void 0!==o&&o.includes("User rejected")||null!==u&&void 0!==u&&null!==(r=u.message)&&void 0!==r&&r.includes("cancelled"))e="Wallet connection was cancelled by user.",s="warning";else if(null!==u&&void 0!==u&&null!==(i=u.message)&&void 0!==i&&i.includes("not installed")){if(n())return T("Petra wallet is not installed. Redirecting to installation page...","info"),void a();e="Petra wallet is not installed. Please install it first."}else if(null!==u&&void 0!==u&&null!==(l=u.message)&&void 0!==l&&l.includes("network"))e="Network error. Please check your connection and try again.";else if(null!==u&&void 0!==u&&null!==(c=u.message)&&void 0!==c&&c.includes("timeout"))e="Connection timed out. Please try again.",s="warning";else if("WalletNotReadyError"===(null===u||void 0===u?void 0:u.name)||"WalletConnectionError"===(null===u||void 0===u?void 0:u.name)){if(n()&&!t())return T("Petra wallet is not installed. Redirecting to installation page...","info"),void a();e="Wallet is not ready. Please make sure Petra wallet is properly installed and unlocked.",s="warning"}T(e,s)}finally{E(!1)}},className:"btn btn-primary btn-connect-wallet",children:[(0,i.jsx)("svg",{width:"20",height:"19",viewBox:"0 0 35 33",fill:"none",xmlns:"http://www.w3.org/2000/svg",className:"petra-svg",children:(0,i.jsx)("path",{fillRule:"evenodd",clipRule:"evenodd",d:"M0 19.4667C0 8.94232 8.53168 0.410645 19.056 0.410645C33.0023 0.410645 39.6271 17.5875 29.2927 26.9522L24.4311 31.3576L15.654 23.3559L27.2291 12.2877H11.8771V32.1818H0V19.4667Z",fill:"currentColor"})}),"Connect Petra Wallet"]})]})})]})})}const h=function(){return(0,i.jsx)(s,{children:(0,i.jsx)(A,{})})},m=e=>{e&&e instanceof Function&&n.e(96).then(n.bind(n,6453)).then(t=>{let{getCLS:n,getFID:a,getFCP:o,getLCP:r,getTTFB:i}=t;n(e),a(e),o(e),r(e),i(e)})};o.createRoot(document.getElementById("root")).render((0,i.jsx)(a.StrictMode,{children:(0,i.jsx)(h,{})})),m()}},t={};function n(a){var o=t[a];if(void 0!==o)return o.exports;var r=t[a]={exports:{}};return e[a].call(r.exports,r,r.exports,n),r.exports}n.m=e,n.amdD=function(){throw new Error("define cannot be used indirect")},n.amdO={},(()=>{var e=[];n.O=(t,a,o,r)=>{if(!a){var i=1/0;for(d=0;d<e.length;d++){a=e[d][0],o=e[d][1],r=e[d][2];for(var s=!0,l=0;l<a.length;l++)(!1&r||i>=r)&&Object.keys(n.O).every(e=>n.O[e](a[l]))?a.splice(l--,1):(s=!1,r<i&&(i=r));if(s){e.splice(d--,1);var c=o();void 0!==c&&(t=c)}}return t}r=r||0;for(var d=e.length;d>0&&e[d-1][2]>r;d--)e[d]=e[d-1];e[d]=[a,o,r]}})(),n.n=e=>{var t=e&&e.__esModule?()=>e.default:()=>e;return n.d(t,{a:t}),t},n.d=(e,t)=>{for(var a in t)n.o(t,a)&&!n.o(e,a)&&Object.defineProperty(e,a,{enumerable:!0,get:t[a]})},n.f={},n.e=e=>Promise.all(Object.keys(n.f).reduce((t,a)=>(n.f[a](e,t),t),[])),n.u=e=>"static/js/"+(84===e?"p5-graphics":e)+"."+{84:"eae9d773",170:"0a0a077d",773:"190feac9",990:"1a8f649a"}[e]+".chunk.js",n.miniCssF=e=>{},n.g=function(){if("object"===typeof globalThis)return globalThis;try{return this||new Function("return this")()}catch(e){if("object"===typeof window)return window}}(),n.o=(e,t)=>Object.prototype.hasOwnProperty.call(e,t),(()=>{var e={},t="frontend:";n.l=(a,o,r,i)=>{if(e[a])e[a].push(o);else{var s,l;if(void 0!==r)for(var c=document.getElementsByTagName("script"),d=0;d<c.length;d++){var u=c[d];if(u.getAttribute("src")==a||u.getAttribute("data-webpack")==t+r){s=u;break}}s||(l=!0,(s=document.createElement("script")).charset="utf-8",s.timeout=120,n.nc&&s.setAttribute("nonce",n.nc),s.setAttribute("data-webpack",t+r),s.src=a),e[a]=[o];var p=(t,n)=>{s.onerror=s.onload=null,clearTimeout(v);var o=e[a];if(delete e[a],s.parentNode&&s.parentNode.removeChild(s),o&&o.forEach(e=>e(n)),t)return t(n)},v=setTimeout(p.bind(null,void 0,{type:"timeout",target:s}),12e4);s.onerror=p.bind(null,s.onerror),s.onload=p.bind(null,s.onload),l&&document.head.appendChild(s)}}})(),n.r=e=>{"undefined"!==typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})},n.p="/Aptos-Aura-Weaver/",(()=>{var e={792:0};n.f.j=(t,a)=>{var o=n.o(e,t)?e[t]:void 0;if(0!==o)if(o)a.push(o[2]);else{var r=new Promise((n,a)=>o=e[t]=[n,a]);a.push(o[2]=r);var i=n.p+n.u(t),s=new Error;n.l(i,a=>{if(n.o(e,t)&&(0!==(o=e[t])&&(e[t]=void 0),o)){var r=a&&("load"===a.type?"missing":a.type),i=a&&a.target&&a.target.src;s.message="Loading chunk "+t+" failed.\n("+r+": "+i+")",s.name="ChunkLoadError",s.type=r,s.request=i,o[1](s)}},"chunk-"+t,t)}},n.O.j=t=>0===e[t];var t=(t,a)=>{var o,r,i=a[0],s=a[1],l=a[2],c=0;if(i.some(t=>0!==e[t])){for(o in s)n.o(s,o)&&(n.m[o]=s[o]);if(l)var d=l(n)}for(t&&t(a);c<i.length;c++)r=i[c],n.o(e,r)&&e[r]&&e[r][0](),e[r]=0;return n.O(d)},a=self.webpackChunkfrontend=self.webpackChunkfrontend||[];a.forEach(t.bind(null,0)),a.push=t.bind(null,a.push.bind(a))})();var a=n.O(void 0,[257,96],()=>n(5100));a=n.O(a)})();
//# sourceMappingURL=main.3e4c34ae.js.map