"use strict";(self.webpackChunkfrontend=self.webpackChunkfrontend||[]).push([[990],{9990:(e,t,n)=>{n.r(t),n.d(t,{default:()=>s});var a=n(5043),r=n(579);const s=e=>{let{moodSeed:t,transactionCount:s,onImageGenerated:o}=e;const l=(0,a.useRef)(null),c=(0,a.useRef)(null),i=(0,a.useRef)(!1),u=(0,a.useRef)(!1),h=(0,a.useRef)(o);return(0,a.useEffect)(()=>{h.current=o},[o]),(0,a.useEffect)(()=>{if(!l.current||!t||i.current)return;c.current&&(c.current.remove(),c.current=null),u.current=!1,i.current=!0;return(async()=>{const e=(await Promise.all([n.e(84),n.e(96)]).then(n.bind(n,9119))).default,a=e=>{let n=[],a=[];const r={happy:[[255,223,0],[255,165,0],[255,69,0]],calm:[[64,224,208],[0,191,255],[138,43,226]],energetic:[[255,20,147],[255,0,255],[255,105,180]],peaceful:[[144,238,144],[152,251,152],[173,255,47]],mysterious:[[75,0,130],[138,43,226],[72,61,139]],passionate:[[220,20,60],[255,69,0],[255,140,0]],default:[[100,149,237],[65,105,225],[30,144,255]]},o=t.split("").reduce((e,t)=>e+t.charCodeAt(0),0),l=(e=>{const t=e.toLowerCase();for(const[n,a]of Object.entries(r))if(t.includes(n)||t.includes(n.slice(0,4)))return a;return r.default})(t);e.setup=()=>{const t=e.createCanvas(150,150);e.colorMode(e.RGB);const r=Math.min(Math.max(s,5)+10,35);for(let a=0;a<r;a++){const t=a%l.length,[s,c,i]=l[t];n.push({x:e.width/2,y:e.height/2,angle:a/r*e.TWO_PI+.01*o,baseRadius:40+a%4*20,radiusVariation:15+a%3*10,size:4+a%3*2,r:Math.min(255,s+(o+23*a)%40),g:Math.min(255,c+(o+37*a)%40),b:Math.min(255,i+(o+41*a)%40),phaseOffset:.2*a,type:a%3})}const f=Math.floor(s/15)+2;for(let n=0;n<Math.min(f,5);n++)a.push({amplitude:20+8*n,phase:n*e.PI*.4+.01*o,color:l[n%l.length],alpha:25+8*n});console.log("Generated ".concat(n.length," particles and ").concat(a.length," waveforms")),c(),u.current||(u.current=!0,setTimeout(()=>{if(t&&t.canvas){const e=t.canvas.toDataURL("image/png");h.current(e),console.log("Static aura captured successfully")}i.current=!1},150))};const c=()=>{e.background(0);for(let n=150;n>0;n-=3){const t=255*(1-.7*e.map(n,0,150,0,1)),a=l[0];e.fill(.15*a[0],.15*a[1],.15*a[2],.3*t),e.noStroke(),e.ellipse(e.width/2,e.height/2,n,n)}a.forEach((t,n)=>{const[a,r,s]=t.color;e.stroke(a,r,s,.5*t.alpha),e.strokeWeight(1),e.noFill(),e.beginShape();for(let o=0;o<e.TWO_PI;o+=.2){const n=50+t.amplitude*Math.sin(2*o+t.phase),a=e.width/2+Math.cos(o)*n,r=e.height/2+Math.sin(o)*n;e.vertex(a,r)}e.endShape(e.CLOSE)}),n.forEach((t,n)=>{let a,r;if(0===t.type){const e=t.baseRadius+Math.sin(t.phaseOffset+.01*o)*t.radiusVariation*.5;a=Math.cos(t.angle+.001*o)*e,r=Math.sin(t.angle+.001*o)*e}else if(1===t.type){const e=t.baseRadius+5*n%40,s=t.angle+.3*n;a=Math.cos(s)*e,r=Math.sin(s)*e}else{const e=t.baseRadius+25*Math.sin(t.phaseOffset+.5*n);a=Math.cos(t.angle)*e,r=Math.sin(t.angle)*e}const s=.5*Math.sin(.01*o+.3*n)+.5,l=t.size+3*s;e.push(),e.translate(e.width/2,e.height/2);for(let o=2;o>0;o--){const n=60/o;e.fill(t.r,t.g,t.b,n),e.noStroke(),e.ellipse(a,r,l+2*o,l+2*o)}e.fill(t.r,t.g,t.b,200),e.noStroke(),e.ellipse(a,r,l,l),e.fill(255,255,255,80),e.ellipse(a-.2*l,r-.2*l,.3*l,.3*l),n%5===0&&(e.stroke(t.r,t.g,t.b,40),e.strokeWeight(.5),e.line(0,0,a,r)),e.pop()});const t=12+4*Math.sin(.005*o),r=l[0];e.push(),e.translate(e.width/2,e.height/2);for(let n=3;n>0;n--){const a=60/n;e.fill(r[0],r[1],r[2],a),e.noStroke(),e.ellipse(0,0,t+2*n,t+2*n)}e.fill(255,255,255,150),e.ellipse(0,0,.5*t,.5*t),e.pop()};e.noLoop()};l.current&&(c.current=new e(a,l.current))})().catch(e=>{console.error("P5 initialization error:",e),i.current=!1}),()=>{i.current=!1,c.current&&(c.current.remove(),c.current=null)}},[t,s]),(0,r.jsx)("div",{className:"aura-generator-container",children:(0,r.jsx)("div",{ref:l,className:"aura-canvas-container"})})}}}]);
//# sourceMappingURL=990.7864d011.chunk.js.map